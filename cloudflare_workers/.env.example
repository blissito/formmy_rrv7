# Cloudflare Worker Environment Variables
# Copia este archivo a .env y completa con tus valores reales

# =============================================================================
# FLOWISE CONFIGURATION
# =============================================================================

# URL de tu instancia de Flowise (sin slash final)
FLOWISE_URL=https://your-flowise-instance.fly.dev

# ID del chatflow que quieres usar (se obtiene de la URL en Flowise)
FLOWISE_CHATFLOW_ID=abc123-def456-ghi789

# API Key de Flowise (opcional, solo si tu flow requiere autenticación)
FLOWISE_API_KEY=your-flowise-api-key

# =============================================================================
# WHATSAPP BUSINESS API CONFIGURATION
# =============================================================================

# Token de acceso de WhatsApp Business API
# Se obtiene desde Meta for Developers > Tu App > WhatsApp > API Setup
WHATSAPP_TOKEN=EAAxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ID del número de teléfono de WhatsApp Business
# Se encuentra en Meta for Developers > Tu App > WhatsApp > API Setup
PHONE_NUMBER_ID=123456789012345

# Token de verificación para webhook (puedes usar cualquier string secreto)
# Este mismo valor debes configurar en Meta for Developers
VERIFY_TOKEN=mi-token-secreto-super-seguro-2025

# =============================================================================
# OPTIONAL CONFIGURATION
# =============================================================================

# Ambiente de ejecución (development/production)
ENVIRONMENT=production

# =============================================================================
# INSTRUCCIONES DE CONFIGURACIÓN
# =============================================================================

# 1. FLOWISE:
#    - Despliega tu instancia de Flowise
#    - Crea un Agentflow con LlamaIndex
#    - Habilita "API Access" en el flow
#    - Copia la URL y el Chatflow ID

# 2. WHATSAPP BUSINESS API:
#    - Ve a https://developers.facebook.com
#    - Crea una nueva app
#    - Agrega el producto "WhatsApp"
#    - En API Setup, copia el Token y Phone Number ID
#    - En Webhook, configura la URL de tu Worker

# 3. CLOUDFLARE WORKER:
#    - Configura estas variables como secrets:
#      wrangler secret put FLOWISE_API_KEY --env production
#      wrangler secret put WHATSAPP_TOKEN --env production
#      wrangler secret put PHONE_NUMBER_ID --env production
#      wrangler secret put VERIFY_TOKEN --env production

# 4. TESTING:
#    - Usa el endpoint /test para probar la conexión con Flowise
#    - Usa el endpoint /health para verificar que el worker funciona